(this.webpackJsonpweeklyplanner2=this.webpackJsonpweeklyplanner2||[]).push([[0],{50:function(t,e,a){t.exports=a(64)},55:function(t,e,a){},56:function(t,e,a){},64:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a.n(r),n=a(22),o=a.n(n),i=(a(55),a(16)),p=a(3),l=a(4),f=a(6),c=a(5),h=a(13),d=a(10),g=(a(56),function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).drag=function(e){e.dataTransfer.setData("workerId",t.props.workerDB3[t.props.i1].id),e.dataTransfer.setData("srcClass",e.target.className),e.dataTransfer.setData("ticketWorkerId",t.props.workerDB3[t.props.i1].id),e.dataTransfer.setData("ticketClass",e.target.className)},t.draging=function(t){},t.bringWorkerID1=function(){t.props.bringWorkerID2(t.props.workerDB3[t.props.i1].id)},t}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"ticket".concat(this.props.i1),className:"ticketDiv",style:{borderColor:"".concat(this.props.workerDB3[this.props.i1].color)},draggable:"true",onDragStart:this.drag,onDrag:this.draging,onMouseDown:this.bringWorkerID1},this.props.workerDB3[this.props.i1].firstName," ",this.props.workerDB3[this.props.i1].lastName)}}]),a}(r.Component)),u=a(35),m=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).bringWorkerID3=function(e){t.props.bringWorkerID4(e)},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement(u.a,null,s.a.createElement("div",null,this.props.workerDB2.map((function(e,a){return s.a.createElement(g,{bringWorkerID2:t.bringWorkerID3,key:a,workerDB3:t.props.workerDB2,i1:a})}))))}}]),a}(r.Component),v=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).markerData=function(){var e=0,a=0,r=document.getElementsByClassName("dropAreaDiv")[0].parentNode.offsetLeft,s=t.props.partObj.partStart,n=t.props.partObj.partLength,o=t.props.axisX-s-r;if(o>-1&&o<n-2){var i=t.props.partObj.shifts.map((function(t){return t.shiftStart}));i.push(n-2),i.push(o);for(var p=0;p<i.length-1;p++)for(var l=0;l<i.length-1-p;l++)if(i[l]>i[l+1]){var f=i[l];i[l]=i[l+1],i[l+1]=f}a=o;for(var c=0;c<i.length;c++)if(i[c]===o)var h=c;var d=i[h+1],g=t.props.partObj.shifts.map((function(t){return t.shiftLength+t.shiftStart}));g.push(0),g.push(o);for(var u=0;u<g.length-1;u++)for(var m=0;m<g.length-1-u;m++)if(g[m]>g[m+1]){var v=g[m];g[m]=g[m+1],g[m+1]=v}for(var S=0;S<g.length;S++)if(g[S]===o)var k=S;var y=g[k-1];if(o<y+120)a=y,e=240,d-y<240&&(a=y,e=d-y);else if(o>d-120){var D=d-y;D>=240?(a=d-240,e=240):D<240&&(a=y,e=d-y)}else a=o-120,e=240,a=5*Math.floor((a+1)/5)}var I=2*(t.props.partObj.partStart+a)%60;I<10&&(I="0".concat(I));var w=(Math.floor((t.props.partObj.partStart+a)/30)+t.props.dayStart)%24,b=2*(t.props.partObj.partStart+a+e)%60;return b<10&&(b="0".concat(b)),{mrkStr:a,mrkLnth:e,startMinute:I,startHour:w,endMinute:b,endHour:(Math.floor((t.props.partObj.partStart+a+e)/30)+t.props.dayStart)%24}},t.markerColor=function(){return"#ffaaff"},t.markerDataColor=function(){return"#000000"},t.addShift=function(){console.log("addShift")},t.stopMarking=function(){},t}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"markerDiv",style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",height:"17px",width:"".concat(this.markerData().mrkLnth,"px"),left:"".concat(this.markerData().mrkStr,"px"),backgroundColor:"".concat(this.markerColor()),borderRadius:"5px",pointerEvents:"none"}},s.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),fontSize:"12px"}},this.markerData().startHour,":",this.markerData().startMinute),s.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),fontSize:"12px"}},this.markerData().endHour,":",this.markerData().endMinute))}}]),a}(r.Component),S=a(18),k=Object(r.createContext)(),y=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={globalMarkDay:void 0,globalMarkPost:void 0,globalMarkPart:void 0,shiftLeftFinal:void 0,shiftLengthFinal:void 0,workerId:void 0,dayInd:void 0,postInd:void 0},t.setMarkerIndCon=function(e,a,r){t.setState({globalMarkDay:e,globalMarkPost:a,globalMarkPart:r})},t}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(k.Provider,{value:Object(S.a)(Object(S.a)({},this.state),{},{setMarkerInd:this.setMarkerIndCon})},this.props.children)}}]),a}(r.Component),D=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).shiftColor=function(){var t="d".concat(r.props.dayInd,"p").concat(r.props.postInd,"t").concat(r.props.partInd,"s").concat(r.props.shiftData.shiftStart+r.props.partObj.partStart,"w").concat(r.props.shiftData.workerId),e=r.props.shiftData.workerId;if(t===r.props.shiftData.shiftId)return r.props.workerDB.filter((function(t){return t.id===e}))[0].color},r.workerName=function(){var t=r.props.shiftData.workerId,e=r.props.workerDB.filter((function(e){return e.id===t})),a=r.props.shiftData.shiftLength;if(void 0===r.state.shiftLength){if(a>=160)return s.a.createElement("div",null," ",e[0].firstName," ",e[0].lastName," ");if(a<160&&a>120)return s.a.createElement("div",null," ",e[0].firstName,". ",e[0].lastName.charAt(0)," ");if(a<=120)return s.a.createElement("div",null," ",e[0].firstName.charAt(0),". ",e[0].lastName.charAt(0)," ")}else{if(r.state.shiftLength>=160)return s.a.createElement("div",null," ",e[0].firstName," ",e[0].lastName," ");if(r.state.shiftLength<160&&r.state.shiftLength>120)return s.a.createElement("div",null," ",e[0].firstName,". ",e[0].lastName.charAt(0)," ");if(r.state.shiftLength<=120)return s.a.createElement("div",null," ",e[0].firstName.charAt(0),". ",e[0].lastName.charAt(0)," ")}},r.drag=function(t){t.dataTransfer.setData("srcDay",r.props.dayInd),t.dataTransfer.setData("srcPost",r.props.postInd),t.dataTransfer.setData("srcPart",r.props.partInd),t.dataTransfer.setData("srcPartStart",r.props.partObj.partStart),t.dataTransfer.setData("srcWorkerId",r.props.shiftData.workerId),t.dataTransfer.setData("srcId",t.target.id),t.dataTransfer.setData("srcClass",t.target.className)},r.rightClick=function(){r.props.rightClick()},r.resizeShift=function(t){t.preventDefault();var e=t.target;console.log(e.className);var a=t.target.parentNode.parentNode,s=t.target.parentNode.parentNode.id,n=t.target.parentNode.parentNode.parentNode.parentNode;console.log(n),window.addEventListener("mousemove",r.resize),window.addEventListener("mouseup",r.stopResize);var o=n.offsetLeft,i=Math.round(a.getBoundingClientRect().width),p=a.offsetLeft+r.props.partObj.partStart;console.log("dropAreaLeft "+o),console.log("ShiftOldWidth "+i),console.log("shiftOldLeft "+p),r.setState({shiftId:s,shift:a,resizer:e.className,dropAreaLeft:o,ShiftOldWidth:i,shiftOldLeft:p})},r.resize=function(t){var e=r.state.shift,a=r.state.resizer,s=r.state.dropAreaLeft,n=r.state.ShiftOldWidth,o=r.state.shiftOldLeft,p=Object(i.a)(r.props.shiftSet),l=r.props.dayInd,f=r.props.postInd,c=r.props.partInd,h=r.props.partObj;if("leftResizer"===a){for(var d=p[l].posts[f].parts[c].shifts,g=[],u=0;u<d.length;u++){o>p[l].posts[f].parts[c].shifts[u].shiftStart+p[l].posts[f].parts[c].partStart&&g.push(d[u])}if(t.pageX-s>h.partStart&&t.pageX-s<=o+n-5){e.style.left=5*Math.floor((t.pageX-s-h.partStart+1)/5)+"px",e.style.width=n+o-5*Math.floor((t.pageX-s+1)/5)+"px";var m=5*Math.floor((t.pageX-s-h.partStart+1)/5),v=n+o-5*Math.floor((t.pageX-s+1)/5);r.setState({shiftLength:v}),r.setState({shiftLeftFinal:m}),r.setState({shiftLengthFinal:v}),v<70?r.setState({shiftDataVIew:"none"}):v>=70&&r.setState({shiftDataVIew:"flex"});for(var S=0;S<g.length;S++){var k=g[S].shiftStart+g[S].shiftLength,y=document.getElementById("".concat(g[S].shiftId));if(m<k){if(y.style.width=m-g[S].shiftStart+"px",m-g[S].shiftStart<130&&g[S].shiftStart<m)for(var D=document.getElementById("".concat(g[S].shiftId));D.lastElementChild;)D.removeChild(D.lastElementChild)}else y.style.width=g[S].shiftLength+"px"}}else if(t.pageX-s<=h.partStart){e.style.left="0px",e.style.width=n+o-h.partStart+"px";for(var I=0;I<g.length;I++){var w=document.getElementById("".concat(g[I].shiftId));w.style.left=g[I].shiftStart+"px",w.style.width="0px"}r.setState({shiftLength:n+o-h.partStart}),r.setState({shiftLeftFinal:0}),r.setState({shiftLengthFinal:n+o-h.partStart})}else if(t.pageX-s>o+n-5){console.log(1),e.style.left=o+n-5-h.partStart+"px",e.style.width="5px";for(var b=0;b<g.length;b++){var E=document.getElementById("".concat(g[b].shiftId));E.style.left=g[b].shiftStart+"px",E.style.width=g[b].shiftLength+"px"}r.setState({shiftLeftFinal:o+n-5-h.partStart}),r.setState({shiftLengthFinal:5}),r.setState({shiftDataVIew:"none"})}}else if("rightResizer"===a){for(var L=p[l].posts[f].parts[c].shifts,O=p[l].posts[f].parts[c].partStart,j=[],x=0;x<L.length;x++){o<p[l].posts[f].parts[c].shifts[x].shiftStart+O&&j.push(L[x])}if(t.pageX-s>=o+5&&t.pageX-s<h.partStart+h.partLength){e.style.width=5*Math.floor((t.pageX-s-o+1)/5)+"px";var C=5*Math.floor((t.pageX-s-o+1)/5);r.setState({shiftLength:C}),r.setState({shiftLengthFinal:C}),C<70?r.setState({shiftDataVIew:"none"}):C>=70&&r.setState({shiftDataVIew:"flex"});for(var M=0;M<j.length;M++){var N=j[M].shiftStart+h.partStart,B=document.getElementById("".concat(j[M].shiftId));if(o+C>N&&o+C<j[M].shiftStart+j[M].shiftLength+h.partStart)if(B.style.left=o+C-h.partStart+"px",B.style.width=j[M].shiftStart+j[M].shiftLength+h.partStart-o-C+"px",j[M].shiftStart+j[M].shiftLength-o-C+h.partStart<130)for(var W=document.getElementById("".concat(j[M].shiftId));W.lastElementChild;)W.removeChild(W.lastElementChild);else B.style.left=o+C-h.partStart+"px",B.style.width=j[M].shiftStart+j[M].shiftLength+h.partStart-o-C+"px";else if(t.pageX-s>=j[M].shiftStart+j[M].shiftLength+h.partStart){B.style.width="0px";for(var z=document.getElementById("".concat(j[M].shiftId));z.lastElementChild;)z.removeChild(z.lastElementChild)}else t.pageX-s>=0&&(B.style.left=j[M].shiftStart+"px",B.style.width=j[M].shiftLength+"px")}}else if(t.pageX-s>=h.partStart+h.partLength){e.style.width=h.partStart+h.partLength-o-2+"px";for(var T=0;T<j.length;T++){var P=document.getElementById("".concat(j[T].shiftId));P.style.left=j[T].shiftStart+"px",P.style.width="0px"}r.setState({shiftLength:h.partStart+h.partLength-o-2}),r.setState({shiftLengthFinal:h.partStart+h.partLength-o-2})}else if(t.pageX-s<5+o+h.partStart){console.log("interval"),e.style.width="5px";for(var A=0;A<j.length;A++){var F=document.getElementById("".concat(j[A].shiftId));F.style.left=j[A].shiftStart+"px",F.style.width=j[A].shiftLength+"px"}r.setState({shiftLengthFinal:5}),r.setState({shiftDataVIew:"none"})}}},r.dataDivView=function(){return void 0!==r.state.shiftDataVIew?r.state.shiftDataVIew:r.props.shiftData.shiftLength>=70?"flex":r.props.shiftData.shiftLength<70?"none":void 0},r.stopResize=function(){window.removeEventListener("mousemove",r.resize),window.removeEventListener("mouseup",r.stopResize),r.props.setResizeData(r.state.resizer,r.state.shiftOldLeft,r.state.ShiftOldWidth,r.state.shiftLeftFinal,r.state.shiftLengthFinal,r.props.shiftData.workerId,r.props.dayInd,r.props.postInd,r.props.partInd)},r.showStartHour=function(){if(void 0===r.state.shiftLeftFinal)var t=2*(r.props.shiftData.shiftStart+r.props.partObj.partStart)%60,e=(Math.floor((r.props.shiftData.shiftStart+r.props.partObj.partStart)/30)+r.props.dayStart)%24;else t=2*(r.state.shiftLeftFinal+r.props.partObj.partStart)%60,e=(Math.floor((r.state.shiftLeftFinal+r.props.partObj.partStart)/30)+r.props.dayStart)%24;return t<10?"".concat(e,":0").concat(t):"".concat(e,":").concat(t)},r.showShiftEnd=function(){if(void 0===r.state.shiftLeftFinal&&void 0===r.state.shiftLengthFinal)var t=2*(r.props.shiftData.shiftStart+r.props.shiftData.shiftLength+r.props.partObj.partStart)%60,e=(Math.floor((r.props.shiftData.shiftStart+r.props.shiftData.shiftLength+r.props.partObj.partStart)/30)+r.props.dayStart)%24;else void 0===r.state.shiftLeftFinal&&void 0!==r.state.shiftLengthFinal?(t=2*(r.props.shiftData.shiftStart+r.state.shiftLengthFinal+r.props.partObj.partStart)%60,e=(Math.floor((r.props.shiftData.shiftStart+r.state.shiftLengthFinal+r.props.partObj.partStart)/30)+r.props.dayStart)%24):void 0!==r.state.shiftLeftFinal&&void 0!==r.state.shiftLengthFinal&&(t=2*(r.state.shiftLeftFinal+r.state.shiftLengthFinal+r.props.partObj.partStart)%60,e=(Math.floor((r.state.shiftLeftFinal+r.state.shiftLengthFinal+r.props.partObj.partStart)/30)+r.props.dayStart)%24);return t<10?"".concat(e,":0").concat(t):"".concat(e,":").concat(t)},r.resizerWidth=function(){if(void 0===r.state.shiftLengthFinal){if(r.props.shiftData.shiftLength>=100)return 4;if(r.props.shiftData.shiftLength>=50&&r.props.shiftData.shiftLength<100)return 3;if(r.props.shiftData.shiftLength<50)return 2}else{if(r.state.shiftLengthFinal>=100)return 4;if(r.state.shiftLengthFinal>=50&&r.state.shiftLengthFinal<100)return 3;if(r.state.shiftLengthFinal<50)return 2}},r.state={shift:void 0,resizer:void 0,dropAreaLeft:void 0,ShiftOldWidth:void 0,shiftOldLeft:void 0,shiftLength:void 0,shiftDataVIew:void 0,shiftLeftFinal:void 0,shiftLengthFinal:void 0,shiftId:void 0},r}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"shiftDiv",id:"d".concat(this.props.dayInd,"p").concat(this.props.postInd,"t").concat(this.props.partInd,"s").concat(this.props.shiftData.shiftStart+this.props.partObj.partStart,"w").concat(this.props.shiftData.workerId),draggable:"true",onDragStart:this.drag,style:{position:"absolute",width:"".concat(this.props.shiftData.shiftLength,"px"),left:"".concat(this.props.shiftData.shiftStart,"px"),top:"-1px",display:"flex",justifyContent:"space-between",backgroundColor:"".concat(this.shiftColor()),height:"19px",borderRadius:"3px",zIndex:1}},s.a.createElement("div",{style:{display:"flex",pointerEvents:"none"}},s.a.createElement("div",{style:{backgroundColor:"#888888",width:"".concat(this.resizerWidth(),"px"),alignSelf:"center",height:"15px",cursor:"ew-resize",pointerEvents:"initial"},className:"leftResizer",onMouseDown:this.resizeShift}),s.a.createElement("div",{className:"shiftDataDiv",style:{display:"".concat(this.dataDivView()),zIndex:0,fontSize:"8px",pointerEvents:"none",backgroundColor:"#aaaaaa"}},this.showStartHour())),s.a.createElement("div",{style:{display:"".concat(this.dataDivView()),pointerEvents:"none",position:"relative",zIndex:0,height:"fit-content",fontSize:"12px",backgroundColor:"#ffffff",alignSelf:"center",paddingRight:"3px",paddingLeft:"3px",borderRadius:"4px"}},this.workerName()),s.a.createElement("div",{style:{display:"flex",pointerEvents:"none"}},s.a.createElement("div",{className:"shiftDataDiv",style:{display:"".concat(this.dataDivView()),zIndex:0,fontSize:"8px",pointerEvents:"none",backgroundColor:"#aaaaaa"}},this.showShiftEnd()),s.a.createElement("div",{style:{backgroundColor:"#888888",width:"".concat(this.resizerWidth(),"px"),alignSelf:"center",height:"15px",cursor:"ew-resize",pointerEvents:"initial"},className:"rightResizer",onMouseDown:this.resizeShift})))}}]),a}(r.Component),I=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).allowDrop=function(t){if(t.preventDefault(),r.state.axisX!==t.pageX&&r.setState({axisX:t.pageX}),"shiftDiv"!==t.target.className){var e=r.props.dayInd,a=r.props.postInd,s=r.props.partInd;(0,r.context.setMarkerInd)(e,a,s)}},r.placeMarker=function(){var t=r.context,e=t.globalMarkDay,a=t.globalMarkPost,n=t.globalMarkPart;if(r.props.dayInd===e&&r.props.postInd===a&&r.props.partInd===n)return s.a.createElement(v,{axisX:r.state.axisX,partObj:r.props.partObj,dayStart:r.props.dayStart})},r.deleteMarker=function(){var t=document.getElementById("markerDiv");null!==t&&t.remove(),r.props.deleteMarker()},r.addShiftToDB=function(t,e){var a=r.props.shiftSet,s=r.props.dayInd,n=r.props.postInd,o=r.props.partInd,i=240,p=document.getElementsByClassName("dropAreaDiv")[0].parentNode.offsetLeft,l=r.props.partObj,f=r.props.partObj.partStart,c=r.props.partObj.partLength,h=t-p-f,d=l.shifts.map((function(t){return{st:t.shiftStart+f,ln:t.shiftLength}}));console.log(d);for(var g=0;g<d.length;g++)if(console.log(h),console.log(d[g].st),console.log(d[g].ln),console.log(d[g].st+d[g].ln),h>=d[g].st-f&&(console.log("after the start"),h<=d[g].st+d[g].ln-f))return void console.log("steped on");if(h>-1&&h<c-2){var u=a[s].posts[n].parts[o].shifts.map((function(t,e){return t.shiftStart}));u.push(c-2),u.push(h);for(var m=0;m<u.length-1;m++)for(var v=0;v<u.length-1-m;v++)if(u[v]>u[v+1]){var S=u[v];u[v]=u[v+1],u[v+1]=S}for(var k=0;k<u.length;k++)if(u[k]===h)var y=k;var D=u[y+1];console.log("endLimit "+D);var I=a[s].posts[n].parts[o].shifts.map((function(t,e){return t.shiftLength+t.shiftStart}));I.push(0),I.push(h);for(var w=0;w<I.length-1;w++)for(var b=0;b<I.length-1-w;b++)if(I[b]>I[b+1]){var E=I[b];I[b]=I[b+1],I[b+1]=E}for(var L=0;L<I.length;L++)if(I[L]===h)var O=L;var j=I[O-1];if(console.log("strLimit "+j),h<j+120){var x=j;D-j<240&&(x=j,i=D-j)}else if(h>D-120){var C=D-j;C>=240?x=D-240:C<240&&(x=j,i=D-j)}else x=h-120,x=5*Math.floor((x+1)/5);a[s].posts[n].parts[o].shifts.push({workerId:e,part:o,shiftStart:x,shiftLength:i,shiftId:"d".concat(s,"p").concat(n,"t").concat(o,"s").concat(x+f,"w").concat(e)}),console.log(a)}},r.shiftSorter=function(){for(var t=r.props.shiftSet,e=r.props.dayInd,a=r.props.postInd,s=r.props.partInd,n=0;n<t[e].posts[a].parts[s].shifts.length;n++)for(var o=0;o<t[e].posts[a].parts[s].shifts.length-1-n;o++){var i=t[e].posts[a].parts[s].shifts[o],p=t[e].posts[a].parts[s].shifts[o+1];if(i.shiftStart>p.shiftStart){var l=t[e].posts[a].parts[s].shifts[o];t[e].posts[a].parts[s].shifts[o]=t[e].posts[a].parts[s].shifts[o+1],t[e].posts[a].parts[s].shifts[o+1]=l}}},r.shiftMerger=function(){for(var t=r.props.shiftSet,e=r.props.dayInd,a=r.props.postInd,s=r.props.partInd,n=r.props.partObj.partStart,o=0;o<t[e].posts[a].parts[s].shifts.length-1;o++){console.log(t[e].posts[a].parts[s].shifts);var i=t[e].posts[a].parts[s].shifts[o],p=t[e].posts[a].parts[s].shifts[o+1];if(i.shiftStart+i.shiftLength===p.shiftStart&&i.workerId===p.workerId){t[e].posts[a].parts[s].shifts.push({workerId:i.workerId,part:s,shiftStart:i.shiftStart,shiftLength:i.shiftLength+p.shiftLength,shiftId:"d".concat(e,"p").concat(a,"t").concat(s,"s").concat(i.shiftStart+n,"w").concat(i.workerId)});var l=t[e].posts[a].parts[s].shifts.length,f=t[e].posts[a].parts[s].shifts[l-1];t[e].posts[a].parts[s].shifts[o]=f,t[e].posts[a].parts[s].shifts.splice(o+1,1),t[e].posts[a].parts[s].shifts.pop()}}},r.drop=function(t){t.preventDefault();var e=t.dataTransfer.getData("srcClass");if(console.log(e),"ticketDiv"===e&&"dropAreaDiv"===t.target.className){console.log("clone");var a=t.pageX,s=t.dataTransfer.getData("ticketWorkerId");r.addShiftToDB(a,s),r.shiftSorter();for(var n=0;n<2;n++)r.shiftMerger()}else if("ticketDiv"===e&&"shiftDiv"===t.target.className){console.log("run over");var o=t.dataTransfer.getData("ticketWorkerId");console.log("ticketWorkerId "+o);var i=r.props.dayInd,p=r.props.postInd,l=r.props.partInd,f=r.props.shiftSet,c=t.target.id;console.log("tgtId "+c);var h=c.slice(c.indexOf("w")+1,c.length);console.log("tgtWorkerId "+h);for(var d=0;d<f[i].posts[p].parts[l].shifts.length;d++)if(f[i].posts[p].parts[l].shifts[d].shiftId===c){console.log("tgt found"),console.log(f[i].posts[p].parts[l].shifts[d]);var g=d}var u=c.slice(0,c.indexOf("w")+1)+o;f[i].posts[p].parts[l].shifts[g].workerId=o,f[i].posts[p].parts[l].shifts[g].shiftId=u;for(var m=0;m<2;m++)r.shiftMerger()}else if("shiftDiv"===e&&"dropAreaDiv"===t.target.className){var v;!function(){console.log("transfer");var e=r.props.shiftSet,a=t.dataTransfer.getData("srcWorkerId"),s=t.pageX;r.addShiftToDB(s,a),r.shiftSorter();for(var n=t.dataTransfer.getData("srcId"),o=t.dataTransfer.getData("srcDay"),i=t.dataTransfer.getData("srcPost"),p=t.dataTransfer.getData("srcPart"),l=t.dataTransfer.getData("srcPartStart"),f=parseInt(n.slice(n.indexOf("s")+1,n.indexOf("w"))),c=e[o].posts[i].parts[p].shifts,h=0;h<c.length;h++)c.filter((function(t){return t.shiftStart+parseInt(l)===f}))[0].shiftStart===c[h].shiftStart&&(console.log(c[h]),v=h);c.splice(v,1);for(var d=0;d<2;d++)r.shiftMerger()}()}else if("shiftDiv"===e&&"shiftDiv"===t.target.className){console.log("swap");var S=t.dataTransfer.getData("srcId"),k=t.dataTransfer.getData("srcDay"),y=t.dataTransfer.getData("srcPost"),D=t.dataTransfer.getData("srcPart"),I=t.dataTransfer.getData("srcPartStart"),w=t.dataTransfer.getData("srcWorkerId");console.log("srcId "+S),console.log("srcDay "+k),console.log("srcPost "+y),console.log("srcPart "+D),console.log("srcWorkerId "+w);var b=r.props.shiftSet,E=t.target.id;console.log("tgtId "+E);var L=r.props.dayInd;console.log("tgt day "+L);var O=r.props.postInd;console.log("tgt post "+O);var j=r.props.partInd;console.log("tgtPart "+j);var x=r.props.partObj.partStart,C=E.slice(E.indexOf("w")+1,E.length);console.log("tgtWorkerId "+C);for(var M=0;M<b[k].posts[y].parts[D].shifts.length;M++)if(b[k].posts[y].parts[D].shifts[M].shiftId===S){console.log("src found"),console.log(b[k].posts[y].parts[D].shifts[M]);var N=M}for(var B=0;B<b[L].posts[O].parts[j].shifts.length;B++)if(b[L].posts[O].parts[j].shifts[B].shiftId===E){console.log("tgt found"),console.log(b[L].posts[O].parts[j].shifts[B]);var W=B}console.log(N),console.log(W),console.log("remaking shiftId ");var z=S.slice(0,S.indexOf("w")+1)+C;console.log("newSrcId "+z);var T=E.slice(0,E.indexOf("w")+1)+w;if(console.log("tgtNewShiftId "+T),b[k].posts[y].parts[D].shifts[N].workerId=C,b[k].posts[y].parts[D].shifts[N].shiftId=z,b[L].posts[O].parts[j].shifts[W].workerId=w,b[L].posts[O].parts[j].shifts[W].shiftId=T,parseInt(k)===L&&parseInt(D)===j){console.log("same part"),r.shiftSorter();for(var P=0;P<2;P++)r.shiftMerger()}else for(var A=0;A<2;A++){for(var F=0;F<b[k].posts[y].parts[D].shifts.length-1;F++){console.log(b[k].posts[y].parts[D].shifts);var V=b[k].posts[y].parts[D].shifts[F],R=b[k].posts[y].parts[D].shifts[F+1];if(V.shiftStart+V.shiftLength===R.shiftStart&&V.workerId===R.workerId){b[k].posts[y].parts[D].shifts.push({workerId:V.workerId,shiftStart:V.shiftStart,shiftLength:V.shiftLength+R.shiftLength,shiftId:"d".concat(k,"p").concat(y,"t").concat(D,"s").concat(V.shiftStart+parseInt(I),"w").concat(V.workerId)});var X=b[k].posts[y].parts[D].shifts.length,G=b[k].posts[y].parts[D].shifts[X-1];b[k].posts[y].parts[D].shifts[F]=G,b[k].posts[y].parts[D].shifts.splice(F+1,1),b[k].posts[y].parts[D].shifts.pop()}}for(var H=0;H<b[L].posts[O].parts[j].shifts.length-1;H++){console.log(b[L].posts[O].parts[j].shifts);var J=b[L].posts[O].parts[j].shifts[H],U=b[L].posts[O].parts[j].shifts[H+1];if(J.shiftStart+J.shiftLength===U.shiftStart&&J.workerId===U.workerId){b[L].posts[O].parts[j].shifts.push({workerId:J.workerId,shiftStart:J.shiftStart,shiftLength:J.shiftLength+U.shiftLength,shiftId:"d".concat(L,"p").concat(O,"t").concat(j,"s").concat(J.shiftStart+x,"w").concat(J.workerId)});var $=b[L].posts[O].parts[j].shifts.length,q=b[L].posts[O].parts[j].shifts[$-1];b[L].posts[O].parts[j].shifts[H]=q,b[L].posts[O].parts[j].shifts.splice(H+1,1),b[L].posts[O].parts[j].shifts.pop()}}}}r.deleteMarker()},r.state={axisX:void 0},r}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"dropAreaDiv",style:{position:"absolute",width:"".concat(this.props.partObj.partLength,"px"),left:"".concat(this.props.partObj.partStart,"px"),top:"1px",display:"flex",height:"19px",borderRadius:"6px",backgroundColor:"#ffffff"},onDragOver:this.allowDrop,onDrop:this.drop,onDragLeave:this.deleteMarker},this.placeMarker(),this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].parts[this.props.partInd].shifts.map((function(e,a){return s.a.createElement(D,{key:a,setResizeData:t.props.setResizeData,rightClick:t.rightClick,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayStart:t.props.dayStart,dayInd:t.props.dayInd,postInd:t.props.postInd,partInd:t.props.partInd,shiftInd:a,partObj:t.props.partObj,shiftData:e})})))}}]),a}(r.Component);I.contextType=k;var w=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).rightClick=function(){console.log("rightClick")},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"postBodyDiv"},s.a.createElement("div",{style:{display:"flex",position:"relative",justifyContent:"center",width:"70px"}},this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].name),s.a.createElement("div",{className:"partsBodyDiv",style:{display:"flex",position:"relative",left:"10px"},id:"dropDay".concat(this.props.dayInd,"Post").concat(this.props.dayInd)},this.props.shiftSet[this.props.dayInd].posts[this.props.postInd].parts.map((function(e,a){return s.a.createElement(y,{key:a},s.a.createElement(I,{key:a,deleteMarker:t.props.deleteMarker,setResizeData:t.props.setResizeData,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayStart:t.props.dayStart,dayInd:t.props.dayInd,postInd:t.props.postInd,partInd:a,partObj:e}))})))))}}]),a}(r.Component),b=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"dayBodyDiv",style:{backgroundColor:"#dddddd"}},s.a.createElement("div",{className:"dayNameDiv"},this.props.shiftSet[this.props.dayInd].name),s.a.createElement("div",null,this.props.shiftSet[this.props.dayInd].posts.map((function(e,a){return s.a.createElement(w,{deleteMarker:t.props.deleteMarker,setResizeData:t.props.setResizeData,key:a,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayStart:t.props.dayStart,dayInd:t.props.dayInd,postInd:a,markerWorkerID3:t.props.markerWorkerID2})})))))}}]),a}(r.Component),E=a(38),L=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).deleteAllShift=function(){r.props.deleteAllShift(),r.setState({DASView:"none"})},r.state={DASView:"none"},r}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{id:"plannerStatsBody"},"PlannerStats",s.a.createElement(E.a,{variant:"warning",onClick:function(){return t.setState({DASView:"flex"})}},"Delete all shifts"),s.a.createElement("div",{id:"DASDiv",style:{display:"".concat(this.state.DASView),position:"fixed",top:"26%",left:"35%",zIndex:"10"}},s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},"Delete all shifts?!"),s.a.createElement("div",null,s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(E.a,{variant:"success",onClick:function(){return t.setState({DASView:"none"})}},"Lets drink coffee and think about it")),s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(E.a,{variant:"danger",onClick:function(){return t.deleteAllShift()}},"Step aside, I know what I'm doing")))))}}]),a}(r.Component),O=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).bringWorkerID5=function(e){t.props.bringWorkerID6(e)},t.drop=function(e){var a,r=e.dataTransfer.getData("srcClass");"shiftDiv"===r&&"shiftDiv"!==e.target.className&&"dropAreaDiv"!==e.target.className&&function(){var s=e.dataTransfer.getData("srcDay"),n=e.dataTransfer.getData("srcPost"),o=e.dataTransfer.getData("srcPart"),i=e.dataTransfer.getData("srcId"),p=e.dataTransfer.getData("srcPartStart");console.log(r),console.log(e.target.className);var l=parseInt(i.slice(i.indexOf("s")+1,i.indexOf("w")));console.log(l);for(var f=t.props.shiftSet,c=f[s].posts[n].parts[o].shifts,h=0;h<c.length;h++)c.filter((function(t){return t.shiftStart+parseInt(p)===l}))[0].shiftStart===c[h].shiftStart&&(console.log(c[h]),a=h);c.splice(a,1),console.log(f),t.props.deleteShift(f)}()},t.allowDrop=function(t){t.preventDefault()},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{onDrop:this.drop,onDragOver:this.allowDrop},s.a.createElement("div",{id:"plnWrkBox"},s.a.createElement("div",null,s.a.createElement(y,null,s.a.createElement(m,{bringWorkerID4:this.bringWorkerID5,workerDB2:this.props.workerDB}))),s.a.createElement("div",{id:"plannerDiv"},this.props.shiftSet.map((function(e,a){return s.a.createElement(b,{deleteMarker:t.props.deleteMarker,setResizeData:t.props.setResizeData,key:a,shiftSet:t.props.shiftSet,workerDB:t.props.workerDB,dayStart:t.props.dayStart,dayInd:a,markerWorkerID2:t.props.markerWorkerID1})}))),s.a.createElement("div",null,s.a.createElement(L,{deleteAllShift:this.props.deleteAllShift}))))}}]),a}(r.Component),j=a(68),x=a(69),C=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).state={firstName:"",lastName:"",identification:"",phone:"",secondPhone:"",address:"",email:"",class:"",lastTraining:"",colorPalette1:["#cc3333","#33cc33","#3333cc","#cccc33","#cc33cc","#33cccc","#ff6666","#66ff66","#6666ff","#ffff66","#ff66ff","#66ffff","#ff99cc","#ccff99","#99ccff","#cc99ff","#99ffcc","#ffcc99","#cc6600","#00cc66","#6600cc","#0066cc","#66cc00","#cc0066","#ffcc00","#00ffcc","#cc00ff","#00ccff","#ccff00","#ff00cc"]},r}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,"AddWorker",s.a.createElement(x.a,null,s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"First name",onChange:function(e){return t.setState({firstName:e.target.value})}})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"Last name",onChange:function(e){return t.setState({lastName:e.target.value})}})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"ID",onChange:function(e){return t.setState({identification:e.target.value})}})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"Phone",onChange:function(e){return t.setState({phone:e.target.value})}})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"Second phone",onChange:function(e){return t.setState({secondPhone:e.target.value})}})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"Address",onChange:function(e){return t.setState({address:e.target.value})}})),s.a.createElement(x.a.Group,{controlId:"formBasicEmail"},s.a.createElement(x.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return t.setState({identification:e.target.value})}}))),s.a.createElement(E.a,{onClick:function(){return t.props.addWorker(t.state.firstName,t.state.lastName,t.state.identification,t.state.phone,t.state.secondPhone,t.state.address,t.state.email)}},"add worker"))}}]),a}(r.Component);function M(){return s.a.createElement("div",null,"PersonalStat")}var N=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:"20px",width:"20px",border:"1px solid black",backgroundColor:"".concat(this.props.color)}})}}]),a}(r.Component),B=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).addWorkerView=function(){return r.state.addWorkerWindow?s.a.createElement(C,{addWorker:r.props.addWorker}):s.a.createElement(M,null)},r.buttonText=function(){return r.state.addWorkerWindow?"Personal Stat":"Add worker"},r.setColor=function(){for(var t=Object(i.a)(r.state.colorPalette1),e=0;e<t.length;e++){var a=(255-51*e).toString(16);1===a.length&&(a="0".concat(a));var s=(51*e).toString(16);1===s.length&&(s="0".concat(s));var n=(51*e).toString(16);1===n.length&&(n="0".concat(n)),t[e]="#".concat(a).concat(s).concat(n)}r.setState({colorPalette1:t})},r.state={addWorkerWindow:!1,colorPalette1:["#cc3333","#33cc33","#3333cc","#cccc33","#cc33cc","#33cccc","#ff6666","#66ff66","#6666ff","#ffff66","#ff66ff","#66ffff","#ff99cc","#ccff99","#99ccff","#cc99ff","#99ffcc","#ffcc99","#cc6600","#00cc66","#6600cc","#0066cc","#66cc00","#cc0066","#ffcc00","#00ffcc","#cc00ff","#00ccff","#ccff00","#ff00cc"]},r}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement("div",{style:{marginBottom:"0.125rem"}},s.a.createElement(j.a,null,s.a.createElement(j.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Select Worker"),s.a.createElement(j.a.Menu,null,this.props.workerDB.map((function(t,e){return s.a.createElement(j.a.Item,{href:"#/worker".concat(t.id),key:e},t.id)}))))),s.a.createElement("div",null,s.a.createElement(E.a,{variant:"primary",onClick:function(){return t.setState({addWorkerWindow:!t.state.addWorkerWindow})}},this.buttonText())),s.a.createElement("button",{onClick:function(){return t.setColor()}},"set color")),s.a.createElement("div",null,this.addWorkerView()),s.a.createElement("div",null,this.state.colorPalette1.map((function(t,e){return s.a.createElement(N,{key:e,color:t})}))))}}]),a}(r.Component),W=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"History")}}]),a}(r.Component),z=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"SetPlan")}}]),a}(r.Component),T=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"HomePage")}}]),a}(r.Component),P=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"300px"}},s.a.createElement(x.a,null,s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"User name"})),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Control,{type:"text",placeholder:"Password"})))),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/planner"},s.a.createElement(E.a,{variant:"primary",onClick:function(){return t.props.login()}},"enter"))))}}]),a}(r.Component),A=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"SignUp")}}]),a}(r.Component),F=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",null,s.a.createElement(j.a,null,s.a.createElement(j.a.Toggle,{variant:"primary",id:"dropdown-basic"},"Dropdown Button"),s.a.createElement(j.a.Menu,null,this.props.workerDB.map((function(t,e){return s.a.createElement(j.a.Item,{href:"#/worker".concat(t.id),key:e},t.id)}))))),s.a.createElement("div",null,"Worker id is ",this.props.workerID,s.a.createElement(E.a,{variant:"warning"},"Delete Worker")))}}]),a}(r.Component),V=function(t){Object(f.a)(a,t);var e=Object(c.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).deleteMarker=function(){r.setState({entanglement:void 0})},r.bringWorkerID7=function(t){},r.higherBarView=function(){return"in"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",{className:"logInOutMenuBtDiv"},s.a.createElement(h.b,{to:"/login"},s.a.createElement(E.a,{variant:"outline-primary"},"log in"))),s.a.createElement("div",{className:"logInOutMenuBtDiv"},s.a.createElement(h.b,{to:"/signup"},s.a.createElement(E.a,{variant:"outline-primary"},"signup")))):"out"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",{style:{marginRight:"10px"}},"hello user"),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/"},s.a.createElement(E.a,{variant:"outline-primary",onClick:function(){return r.setState({higherBarView:"in"})}},"logout")))):void 0},r.lowerBarView=function(){return"in"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}}):"out"===r.state.higherBarView?s.a.createElement("div",{style:{display:"flex",position:"relative"}},s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(h.b,{to:"/planner",draggable:!1},s.a.createElement(E.a,{variant:"primary"},"Planner"))),s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(h.b,{to:"/personal",draggable:!1},s.a.createElement(E.a,{variant:"primary"},"Personal"))),s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(h.b,{to:"/setplanner",draggable:!1},s.a.createElement(E.a,{variant:"primary"},"Set Planner"))),s.a.createElement("div",{className:"mainMenuBtDiv"},s.a.createElement(h.b,{to:"/history",draggable:!1},s.a.createElement(E.a,{variant:"primary"},"History")))):void 0},r.login=function(){r.setState({higherBarView:"out"})},r.deleteShift=function(t){r.setState({shiftSet:t})},r.deleteAllShift=function(){console.log("deleteAllShift");for(var t=Object(i.a)(r.state.shiftSet),e=0;e<t.length;e++)for(var a=0;a<t[e].posts.length;a++)for(var s=0;s<t[e].posts[a].parts.length;s++)t[e].posts[a].parts[s].shifts=[];r.setState({shiftSet:t})},r.setResizeData=function(t,e,a,s,n,o,p,l,f){var c=Object(i.a)(r.state.shiftSet);if("leftResizer"===t&&void 0!==s)for(var h=0;h<c[p].posts[l].parts[f].shifts.length;h++){var d=c[p].posts[l].parts[f].partStart;if(d+c[p].posts[l].parts[f].shifts[h].shiftStart===e)c[p].posts[l].parts[f].shifts[h].shiftStart=s,c[p].posts[l].parts[f].shifts[h].shiftLength=n,c[p].posts[l].parts[f].shifts[h].shiftId="d".concat(p,"p").concat(l,"t").concat(f,"s").concat(s+d,"w").concat(o);else if(c[p].posts[l].parts[f].shifts[h].shiftStart+d<e){var g=c[p].posts[l].parts[f].shifts[h].shiftStart;if(s<g+c[p].posts[l].parts[f].shifts[h].shiftLength){var u=s-g;u>0?c[p].posts[l].parts[f].shifts[h].shiftLength=u:u<=0&&(console.log(h),console.log(u),c[p].posts[l].parts[f].shifts.splice(h,1),h--)}}}else if("rightResizer"===t&&void 0!==n)for(var m=0;m<c[p].posts[l].parts[f].shifts.length;m++){var v=c[p].posts[l].parts[f].partStart,S=c[p].posts[l].parts[f].shifts[m].shiftStart;if(S+v===e)c[p].posts[l].parts[f].shifts[m].shiftLength=n,c[p].posts[l].parts[f].shifts[m].shiftId="d".concat(p,"p").concat(l,"t").concat(f,"s").concat(e,"w").concat(o);else if(S+v>e){var k=c[p].posts[l].parts[f].shifts[m].shiftStart,y=c[p].posts[l].parts[f].shifts[m].shiftLength;if(e+n>k+v){console.log(e+n),console.log(k+v);var D=k+y+v-e-n,I=e+n-v;if(console.log(I),D>0){var w=c[p].posts[l].parts[f].shifts[m].workerId;c[p].posts[l].parts[f].shifts[m].shiftStart=I,c[p].posts[l].parts[f].shifts[m].shiftLength=D,c[p].posts[l].parts[f].shifts[m].shiftId="d".concat(p,"p").concat(l,"t").concat(f,"s").concat(I+v,"w").concat(w)}else D<=0&&(c[p].posts[l].parts[f].shifts.splice(m,1),m--)}}}for(var b=0;b<c[p].posts[l].parts[f].shifts.length-1;b++){var E=c[p].posts[l].parts[f].partStart,L=c[p].posts[l].parts[f].shifts[b],O=c[p].posts[l].parts[f].shifts[b+1];if(L.shiftStart+L.shiftLength===O.shiftStart&&L.workerId===O.workerId){c[p].posts[l].parts[f].shifts.push({workerId:L.workerId,shiftStart:L.shiftStart,shiftLength:L.shiftLength+O.shiftLength,shiftId:"d".concat(p,"p").concat(l,"t").concat(f,"s").concat(L.shiftStart+E,"w").concat(L.workerId)});var j=c[p].posts[l].parts[f].shifts.length,x=c[p].posts[l].parts[f].shifts[j-1];c[p].posts[l].parts[f].shifts[b]=x,c[p].posts[l].parts[f].shifts.splice(b+1,1),c[p].posts[l].parts[f].shifts.pop()}}r.setState({shiftSet:c})},r.setData=function(){var t=r.state.shiftSet;localStorage.setItem("shiftDB",JSON.stringify(t))},r.getData=function(){var t=localStorage.getItem("shiftDB");t=JSON.parse(t),console.log(t),r.setState({shiftSet:t})},r.addWorker=function(t,e,a,s,n,o,p){console.log(t);var l={id:Date.now().toString(),firstName:t,lastName:e,color:"#a55a5a"};console.log(l),r.setState({workerDB:[].concat(Object(i.a)(r.state.workerDB),[l])})},r.state={shiftSet:[{name:"Su",date:"",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]}]},{name:"Mo",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]}]},{name:"Tu",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]}]},{name:"We",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]}]},{name:"Th",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:362,shifts:[]}]}]},{name:"Fr",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:0,partLength:332,shifts:[]}]},{name:"Global",parts:[{partStart:0,partLength:272,shifts:[]}]},{name:"71",parts:[{partStart:0,partLength:332,shifts:[]}]},{name:"M-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:242,shifts:[]}]},{name:"M6-\u05d3\u05dc\u05e4\u05e7",parts:[{partStart:0,partLength:242,shifts:[]}]}]},{name:"Sa",posts:[{name:"73",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"76",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"M",parts:[{partStart:0,partLength:722,shifts:[]}]},{name:"74",parts:[{partStart:420,partLength:302,shifts:[]}]},{name:"Global",parts:[{partStart:420,partLength:302,shifts:[]}]},{name:"71",parts:[{partStart:420,partLength:302,shifts:[]}]}]}],workerDB:[{id:"15",firstName:"first",lastName:"last",color:"#ff0000"},{id:"1",firstName:"drag",lastName:"last",color:"#00aa00"},{id:"2",firstName:"draggable",lastName:"last",color:"#6666ff"},{id:"3",firstName:"worker 4",lastName:"last",color:"#aaaa00"},{id:"4",firstName:"worker 5",lastName:"last",color:"#ff00ff"},{id:"124",firstName:"worker 6",lastName:"last",color:"#00ffff"}],markerWorkerID:void 0,higherBarView:"in",dayStart:7},r}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(h.a,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",position:"relative"}},s.a.createElement("div",{style:{alignSelf:"flex-end"}},this.higherBarView())),s.a.createElement("div",{style:{display:"flex",justifyContent:"center",position:"relative"}},s.a.createElement("div",{style:{alignSelf:"center"}},this.lowerBarView())),s.a.createElement(d.c,null,s.a.createElement(d.a,{exact:!0,path:"/planner",component:function(){return s.a.createElement(O,{deleteMarker:t.deleteMarker,deleteShift:t.deleteShift,deleteAllShift:t.deleteAllShift,setResizeData:t.setResizeData,bringWorkerID6:t.bringWorkerID7,shiftSet:t.state.shiftSet,workerDB:t.state.workerDB,dayStart:t.state.dayStart,markerWorkerID1:t.state.markerWorkerID})}}),s.a.createElement(d.a,{exact:!0,path:"/personal",component:function(){return s.a.createElement(B,{addWorker:t.addWorker,workerDB:t.state.workerDB})}}),this.state.workerDB.map((function(e,a){return s.a.createElement(d.a,{exact:!0,path:"/worker".concat(e.id),key:a,component:function(){return s.a.createElement(F,{workerDB:t.state.workerDB,workerID:e.id,key:a})}})})),s.a.createElement(d.a,{exact:!0,path:"/history",component:function(){return s.a.createElement(W,null)}}),s.a.createElement(d.a,{exact:!0,path:"/setplanner",component:function(){return s.a.createElement(z,null)}}),s.a.createElement(d.a,{exact:!0,path:"/",component:function(){return s.a.createElement(T,null)}}),s.a.createElement(d.a,{exact:!0,path:"/login",component:function(){return s.a.createElement(P,{login:t.login})}}),s.a.createElement(d.a,{exact:!0,path:"/signup",component:function(){return s.a.createElement(A,null)}}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(63);var R=a(46),X=document.getElementById("root");o.a.render(s.a.createElement(V,null),X),Object(R.a)(X),o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.21c12ede.chunk.js.map